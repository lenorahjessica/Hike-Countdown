<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Hike Countdown</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Special Elite font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#07111d;
      --bg2:#0b2a28;
      --panel: rgba(10, 14, 25, 0.66);
      --border: rgba(255,255,255,0.10);
      --ink:#eaf2ff;
      --muted: rgba(234,242,255,0.78);
      --accent:#9be7c4;          /* mineral tint */
      --accent2:#86b7ff;         /* cool alpine */
      --danger: rgba(255,255,255,0.12);
      --shadow: rgba(0,0,0,0.45);
      --radius: 22px;
    }

    * { box-sizing: border-box; }

    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:18px;
      color:var(--ink);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      background:
        radial-gradient(1200px 800px at 20% 10%, rgba(155,231,196,.18), transparent 55%),
        radial-gradient(900px 600px at 80% 30%, rgba(134,183,255,.14), transparent 60%),
        linear-gradient(160deg, var(--bg1), var(--bg2));
    }

    .wrap{
      width:min(980px, 100%);
      background: var(--panel);
      border:1px solid var(--border);
      border-radius: 28px;
      box-shadow: 0 18px 60px var(--shadow);
      overflow:hidden;
      position:relative;
    }

    /* Header */
    header{
      padding:18px 18px 10px 18px;
      position:relative;
    }

    .headerTop{
      display:flex;
      gap:14px;
      align-items:flex-end;
      justify-content:space-between;
      flex-wrap:wrap;
    }

    .titleBlock{
      display:flex;
      flex-direction:column;
      gap:6px;
      min-width: 240px;
    }

    h1{
      margin:0;
      font-family: "Special Elite", serif;
      letter-spacing: 0.02em;
      font-size: clamp(28px, 4vw, 44px);
      line-height: 1;
    }

    .tagline{
      margin:0;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.35;
      max-width: 56ch;
    }

    /* Mountain strip */
    .mountains{
      width:100%;
      margin-top: 10px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,0.08);
      background: rgba(255,255,255,0.03);
      overflow:hidden;
    }

    /* Controls */
    .controls{
      padding: 12px 18px 16px 18px;
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      align-items:flex-end;
      justify-content:space-between;
    }

    .field{
      min-width: 240px;
      flex: 1 1 280px;
      display:flex;
      flex-direction:column;
      gap:6px;
    }

    label{
      font-size: 12px;
      color: var(--muted);
      letter-spacing: .08em;
      text-transform: uppercase;
    }

    input[type="datetime-local"]{
      padding: 12px 12px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,0.12);
      background: rgba(15,20,40,.55);
      color: var(--ink);
      outline:none;
      font-size: 15px;
    }
    input[type="datetime-local"]:focus{
      border-color: rgba(155,231,196,.45);
      box-shadow: 0 0 0 4px rgba(155,231,196,.10);
    }

    .btnRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
      align-items:center;
    }

    button{
      appearance:none;
      border:1px solid rgba(255,255,255,0.12);
      background: rgba(155,231,196,.16);
      color: var(--ink);
      padding: 12px 14px;
      border-radius: 14px;
      cursor:pointer;
      font-weight:700;
      font-size: 14px;
      transition: transform .05s ease, background .2s ease, border-color .2s ease;
      height: 44px;
    }
    button:hover{ background: rgba(155,231,196,.20); }
    button:active{ transform: translateY(1px); }
    button.secondary{
      background: rgba(255,255,255,0.06);
    }
    button.secondary:hover{ background: rgba(255,255,255,0.09); }

    button.ghost{
      background: transparent;
      border-color: rgba(255,255,255,0.14);
    }
    button.ghost:hover{
      background: rgba(255,255,255,0.06);
    }

    /* Timer cards */
    .timer{
      padding: 10px 18px 18px 18px;
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      justify-content:center;
    }

    .unit{
      width: min(260px, 30vw);
      min-width: 180px;
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,0.10);
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      padding: 14px;
    }

    .unitHead{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom: 10px;
    }

    .unitLabel{
      font-size: 12px;
      color: var(--muted);
      letter-spacing: .16em;
      text-transform: uppercase;
    }

    .hint{
      font-size: 11px;
      color: rgba(155,231,196,.90);
      letter-spacing: .04em;
      white-space:nowrap;
    }

    .flipShell{
      height: 88px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.08);
      background: linear-gradient(180deg, rgba(16,22,45,.85), rgba(10,14,25,.85));
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
      overflow:hidden;
    }

    .flipShell:after{
      content:"";
      position:absolute;
      left:0; right:0;
      top:50%;
      height:1px;
      background: rgba(255,255,255,0.10);
      transform: translateY(-.5px);
      pointer-events:none;
    }

    .num{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size: 56px;
      font-weight: 900;
      letter-spacing: .02em;
      text-shadow: 0 12px 28px rgba(0,0,0,.45);
      user-select:none;
    }

    /* Info area */
    .info{
      padding: 0 18px 18px 18px;
      display:flex;
      flex-direction:column;
      gap:10px;
      align-items:center;
      text-align:center;
    }

    .note{
      color: var(--muted);
      font-size: 13px;
      line-height: 1.35;
      max-width: 70ch;
    }

    .pillRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:center;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.05);
      font-size: 12px;
      color: var(--muted);
    }

    .toast{
      display:none;
      margin-top: 4px;
      font-size: 12px;
      color: rgba(155,231,196,.95);
    }

    @media (max-width: 520px){
      .btnRow{ justify-content:stretch; }
      button{ flex: 1 1 auto; }
      .unit{ min-width: 150px; }
      .num{ font-size: 48px; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="headerTop">
        <div class="titleBlock">
          <h1>Hike Countdown</h1>
          <p class="tagline">Set your hike date, then let the timer keep the spark alive. Built for mountain days and hot spring rewards.</p>
        </div>

        <div class="pillRow" aria-hidden="true">
          <span class="pill">â›° Mountains</span>
          <span class="pill">â™¨ Hot Springs</span>
          <span class="pill">ðŸ§­ Prepared</span>
        </div>
      </div>

      <!-- Mountain themed strip (inline SVG) -->
      <div class="mountains" aria-hidden="true">
        <svg viewBox="0 0 1200 220" width="100%" height="160" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="sky" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0%" stop-color="#0b1220" stop-opacity="0.0"/>
              <stop offset="100%" stop-color="#0b1220" stop-opacity="0.45"/>
            </linearGradient>
            <linearGradient id="ridge" x1="0" x2="0" y1="0" y2="1">
              <stop offset="0%" stop-color="#9be7c4" stop-opacity="0.70"/>
              <stop offset="100%" stop-color="#86b7ff" stop-opacity="0.30"/>
            </linearGradient>
            <filter id="softGlow" x="-20%" y="-20%" width="140%" height="140%">
              <feGaussianBlur stdDeviation="6" result="blur"/>
              <feColorMatrix in="blur" type="matrix"
                values="1 0 0 0 0
                        0 1 0 0 0
                        0 0 1 0 0
                        0 0 0 0.35 0"/>
              <feMerge>
                <feMergeNode/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>

          <rect x="0" y="0" width="1200" height="220" fill="url(#sky)"/>
          <!-- distant ridge -->
          <path d="M0 150 L120 120 L240 138 L320 108 L420 136 L520 100 L650 140 L740 110 L860 145 L980 118 L1100 148 L1200 112 L1200 220 L0 220 Z"
                fill="rgba(255,255,255,0.05)"/>
          <!-- main ridge line -->
          <path d="M0 170 L160 105 L260 140 L360 80 L520 175 L640 120 L760 155 L920 70 L1040 150 L1200 95"
                stroke="url(#ridge)" stroke-width="3.2" fill="none" stroke-linecap="round" stroke-linejoin="round" filter="url(#softGlow)"/>
          <!-- steam lines (hot springs vibe) -->
          <path d="M160 185 C150 165 170 155 160 135" stroke="rgba(155,231,196,0.55)" stroke-width="2" fill="none" stroke-linecap="round"/>
          <path d="M210 190 C200 170 225 160 210 138" stroke="rgba(234,242,255,0.35)" stroke-width="2" fill="none" stroke-linecap="round"/>
          <path d="M260 185 C250 168 275 158 260 140" stroke="rgba(134,183,255,0.35)" stroke-width="2" fill="none" stroke-linecap="round"/>
        </svg>
      </div>
    </header>

    <section class="controls">
      <div class="field">
        <label for="dateInput">Hike date & time</label>
        <input type="datetime-local" id="dateInput" />
      </div>

      <div class="btnRow">
        <button type="button" onclick="saveDate()">Set Countdown</button>
        <button type="button" class="secondary" onclick="resetDate()">Reset</button>
        <button type="button" class="ghost" onclick="shareCountdown()">Share</button>
        <button type="button" class="ghost" onclick="copyLink()">Copy Link</button>
      </div>
    </section>

    <section class="timer" aria-label="Countdown">
      <div class="unit">
        <div class="unitHead">
          <div class="unitLabel">Days</div>
          <div class="hint">to trail</div>
        </div>
        <div class="flipShell"><div class="num" id="days">00</div></div>
      </div>

      <div class="unit">
        <div class="unitHead">
          <div class="unitLabel">Hours</div>
          <div class="hint">to start</div>
        </div>
        <div class="flipShell"><div class="num" id="hours">00</div></div>
      </div>

      <div class="unit">
        <div class="unitHead">
          <div class="unitLabel">Minutes</div>
          <div class="hint">to go</div>
        </div>
        <div class="flipShell"><div class="num" id="minutes">00</div></div>
      </div>
    </section>

    <section class="info">
      <div class="note">
        <strong>Reminder:</strong> bookmark this countdown so itâ€™s ready for next time.
        On iPhone: tap <strong>Share</strong> â†’ <strong>Add Bookmark</strong> or <strong>Add to Home Screen</strong>.
      </div>
      <div class="toast" id="toast">Copied!</div>
    </section>
  </div>

  <script>
    let targetDate = null;
    const STORAGE_KEY = "hikeDate";

    function pad2(n){ return String(n).padStart(2, "0"); }

    function showToast(msg){
      const t = document.getElementById("toast");
      t.textContent = msg;
      t.style.display = "block";
      clearTimeout(window.__toastTimer);
      window.__toastTimer = setTimeout(() => { t.style.display = "none"; }, 1400);
    }

    function saveDate() {
      const input = document.getElementById("dateInput").value;
      if (!input) {
        showToast("Pick a date first");
        return;
      }

      // datetime-local parses in local time in modern browsers
      targetDate = new Date(input);
      if (isNaN(targetDate.getTime())){
        showToast("Invalid date");
        return;
      }

      localStorage.setItem(STORAGE_KEY, targetDate.toISOString());
      updateTimer();
      showToast("Countdown set");
    }

    function resetDate() {
      localStorage.removeItem(STORAGE_KEY);
      targetDate = null;

      document.getElementById("dateInput").value = "";
      document.getElementById("days").textContent = "00";
      document.getElementById("hours").textContent = "00";
      document.getElementById("minutes").textContent = "00";
      showToast("Reset");
    }

    function updateTimer() {
      if (!targetDate) return;

      const now = new Date();
      let diff = targetDate - now;
      if (diff < 0) diff = 0;

      const totalMinutes = Math.floor(diff / 60000);
      const days = Math.floor(totalMinutes / (60 * 24));
      const hours = Math.floor((totalMinutes % (60 * 24)) / 60);
      const mins = totalMinutes % 60;

      document.getElementById("days").textContent = String(days).padStart(2, "0");
      document.getElementById("hours").textContent = pad2(hours);
      document.getElementById("minutes").textContent = pad2(mins);
    }

    function loadSavedDate() {
      const saved = localStorage.getItem(STORAGE_KEY);
      if (!saved) return;

      const dt = new Date(saved);
      if (isNaN(dt.getTime())) return;

      targetDate = dt;

      // Set the input value to match local time
      const y = dt.getFullYear();
      const mo = pad2(dt.getMonth() + 1);
      const da = pad2(dt.getDate());
      const hh = pad2(dt.getHours());
      const mi = pad2(dt.getMinutes());
      document.getElementById("dateInput").value = `${y}-${mo}-${da}T${hh}:${mi}`;

      updateTimer();
    }

    function getShareText(){
      const base = "Hike Countdown";
      if (!targetDate) return `${base} | Set your hike date and count down to the trail.`;
      return `${base} | Counting down to my next hike: ${targetDate.toLocaleString()}`;
    }

    async function copyLink(){
      const url = window.location.href;
      try{
        await navigator.clipboard.writeText(url);
        showToast("Link copied");
      }catch(e){
        // Fallback
        const temp = document.createElement("input");
        temp.value = url;
        document.body.appendChild(temp);
        temp.select();
        document.execCommand("copy");
        document.body.removeChild(temp);
        showToast("Link copied");
      }
    }

    async function shareCountdown(){
      const url = window.location.href;
      const text = getShareText();

      if (navigator.share){
        try{
          await navigator.share({
            title: "Hike Countdown",
            text,
            url
          });
          return;
        }catch(e){
          // user cancelled or share failed; fall through to copy
        }
      }
      await copyLink();
      showToast("Sharing not available. Link copied.");
    }

    // Init
    loadSavedDate();
    updateTimer();
    setInterval(updateTimer, 1000);
  </script>
</body>
</html>
